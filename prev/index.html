<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fake-redirects to the previous site">
    <meta name="author" content="Tofutush">
    <meta property="og:title" content="Previous | OC Webring">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/icon.ico">
    <meta property="og:site_name" content="OC Webring">
    <meta property="og:description" content="Fake-redirects to the previous site">
    <title>Previous | OC Webring</title>
</head>

<body>
    
<script>
    fetch('/oc-webring/_data/sites.json')
        .then(response => response.json())
        .then(data => {
            getPrev(data);
        })
        .catch(err => console.error(err));
    function getPrev(siteList) {
        let url = new URLSearchParams(window.location.search);
        let originalSite = url.get('site');
        let prevSite;
        for(let z = 0; z < siteList.length; z++) {
            if(siteList[z].mainurl === originalSite) {
                if(z === 0) prevSite = siteList[siteList.length - 1].ocurl;
                else prevSite = siteList[z - 1].ocurl;
                break;
            }
        }
        window.location.assign(prevSite ? prevSite : '../no-such-site/');
    }
</script>
</body>

</html>